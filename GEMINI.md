# 🌟 AI 기반 스마트 오피스 그룹웨어 프로젝트 (GEMINI.md)

## 1. 프로젝트 개요

| 구분 | 내용 |
| --- | --- |
| **프로젝트명** | 스마트 오피스 공실 예측 및 그룹웨어 통합 시스템 |
| **핵심 목표** | ML 기반 노쇼(No-show) 방지 및 공간 추천을 통한 업무 효율 극대화 |
| **개발 철학** | Material Design 3 위젯을 직접 코딩하여 기술 부채 최소화 |
| **개발 스택** | Flutter, Supabase, Python/FastAPI, AWS SES/S3/Lambda |

---

## 2. 🛠️ 기술 스택 및 역할 분담

| 역할 | 서비스 / 프레임워크 | 핵심 기능 |
| --- | --- | --- |
| **클라이언트 (프론트엔드)** | Flutter (Dart) | MD3 UI, 모든 사용자 인터페이스 및 로직 |
| **BaaS / Realtime / DB** | Supabase (PostgreSQL, Realtime, Auth) | DB, 인증, 채팅/공실 상태 실시간 동기화 |
| **ML 예측 서비스** | FastAPI (Python) | 공실 예측 모델 호스팅 및 API 제공 |
| **메일 시스템** | AWS SES + S3 + Lambda | 최저 비용의 메일 송수신, 파싱 및 보관 관리 |

---

## 3. 🚀 핵심 기능 및 ML 전략

### 3.1. ML 예측 기반 공간 혁신

-   **미래 기반 추천**: 30분 뒤 공실 확률이 높은 공간을 우선적으로 추천합니다.
-   **노쇼 확률 예측**: 예약 후 체크인하지 않을 경우의 노쇼(No-show) 확률을 계산합니다.
-   **자동 예약 해제**: 계산된 노쇼 확률이 설정된 임계값을 초과하면 예약을 자동으로 해제합니다.
-   **알림 발송**: 예약, 해제, 노쇼 관련 상태 변경 시 AWS SES를 활용하여 사용자에게 알림을 보냅니다.

### 3.2. 그룹웨어 통합 기능

-   **캘린더/예약**: 개인 일정 및 회의실 예약 관리 기능을 제공합니다.
-   **채팅**: Supabase Realtime 기반의 1:1 및 그룹 채팅 기능을 구현합니다.
-   **메일**: AWS 파이프라인을 통해 수신/보관된 메일을 앱 내 인박스에서 조회할 수 있습니다.

---

## 4. 💾 데이터베이스 스키마 (Supabase)

| 테이블명 | 핵심 데이터 | 주요 연결 |
| --- | --- | --- |
| `users` | `id`, `email`, `name` | 인증 및 프로필 정보 |
| `spaces` | `id`, `name`, `capacity`, `location` | 회의실/공간 기본 정보 |
| `schedules` | `id`, `space_id`, `start_time`, `end_time` | 캘린더/예약 데이터 |
| `status_logs` | `id`, `space_id`, `is_occupied`, `timestamp` | ML 학습 데이터 소스 및 실시간 로깅 |
| `inbox_mails` | `id`, `user_id`, `subject`, `s3_object_key` | 수신 메일 데이터 (AWS Lambda 파싱 결과) |
| `messages` | `id`, `room_id`, `sender_id`, `content` | 채팅 메시지 (Realtime 구독 대상) |

### 4.1. ML 예측 특성 (FastAPI 입력값)

ML 모델의 입력값으로 사용되는 11가지 핵심 특성은 다음과 같습니다.

-   **시간 주기성**: 요일, 시간대, 주중/주말 구분, 특정 날짜/공휴일
-   **공간/상황**: 공간 ID, 수용 인원, 현재 예약 상태, 남은 예약 시간
-   **과거 패턴**: 직전 N시간 사용률, 평균 점유 시간, 예약-실사용 시간 차이

---
